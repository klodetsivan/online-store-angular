{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/klode/Desktop/project 4/Frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { firstValueFrom } from \"rxjs\";\nimport { appConfig } from \"../utils/app-config\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class ProductsService {\n  // DI \n  constructor(http) {\n    this.http = http;\n  }\n  getAllProducts() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      // Observable - משהו ממש מגניב\n      const observable = _this.http.get(appConfig.productsUrl);\n      // Convert observable to promise:\n      const products = yield firstValueFrom(observable);\n      console.log(products);\n      return products;\n    })();\n  }\n  addProduct(product) {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      const formData = new FormData();\n      formData.append(\"name\", product.name);\n      formData.append(\"price\", product.price.toString());\n      // formData.append(\"stock\", product.stock.toString());\n      formData.append(\"image\", product.image);\n      const observable = _this2.http.post(appConfig.productsUrl, formData);\n      const addedProduct = yield firstValueFrom(observable);\n    })();\n  }\n  deleteProduct(id) {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      const observable = _this3.http.delete(appConfig.productsUrl + id);\n      yield firstValueFrom(observable);\n    })();\n  }\n}\nProductsService.ɵfac = function ProductsService_Factory(t) {\n  return new (t || ProductsService)(i0.ɵɵinject(i1.HttpClient));\n};\nProductsService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: ProductsService,\n  factory: ProductsService.ɵfac,\n  providedIn: \"root\"\n});","map":{"version":3,"mappings":";AAEA,SAASA,cAAc,QAAQ,MAAM;AAErC,SAASC,SAAS,QAAQ,qBAAqB;;;AAK/C,OAAM,MAAOC,eAAe;EAExB;EACAC,YAA2BC,IAAgB;IAAhB,SAAI,GAAJA,IAAI;EAAgB;EAElCC,cAAc;IAAA;IAAA;MAEvB;MACA,MAAMC,UAAU,GAAG,KAAI,CAACF,IAAI,CAACG,GAAG,CAAiBN,SAAS,CAACO,WAAW,CAAC;MAEvE;MACA,MAAMC,QAAQ,SAAST,cAAc,CAACM,UAAU,CAAC;MACjDI,OAAO,CAACC,GAAG,CAACF,QAAQ,CAAC;MAErB,OAAOA,QAAQ;IAAC;EACpB;EAEaG,UAAU,CAACC,OAAqB;IAAA;IAAA;MACzC,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,EAAE;MAC/BD,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAEH,OAAO,CAACI,IAAI,CAAC;MACrCH,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAEH,OAAO,CAACK,KAAK,CAACC,QAAQ,EAAE,CAAC;MAClD;MACAL,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAEH,OAAO,CAACO,KAAK,CAAC;MACvC,MAAMd,UAAU,GAAG,MAAI,CAACF,IAAI,CAACiB,IAAI,CAAepB,SAAS,CAACO,WAAW,EAAEM,QAAQ,CAAC;MAChF,MAAMQ,YAAY,SAAStB,cAAc,CAACM,UAAU,CAAC;IAAC;EAC1D;EAEaiB,aAAa,CAACC,EAAU;IAAA;IAAA;MACjC,MAAMlB,UAAU,GAAG,MAAI,CAACF,IAAI,CAACqB,MAAM,CAACxB,SAAS,CAACO,WAAW,GAAGgB,EAAE,CAAC;MAC/D,MAAMxB,cAAc,CAACM,UAAU,CAAC;IAAC;EACrC;;AA9BSJ,eAAe;mBAAfA,eAAe;AAAA;AAAfA,eAAe;SAAfA,eAAe;EAAAwB,SAAfxB,eAAe;EAAAyB,YAFZ;AAAM","names":["firstValueFrom","appConfig","ProductsService","constructor","http","getAllProducts","observable","get","productsUrl","products","console","log","addProduct","product","formData","FormData","append","name","price","toString","image","post","addedProduct","deleteProduct","id","delete","factory","providedIn"],"sourceRoot":"","sources":["C:\\Users\\klode\\Desktop\\project 4\\Frontend\\src\\app\\services\\products.service.ts"],"sourcesContent":["import { HttpClient } from \"@angular/common/http\";\r\nimport { Injectable } from \"@angular/core\";\r\nimport { firstValueFrom } from \"rxjs\";\r\nimport { ProductModel } from \"../models/product.model\";\r\nimport { appConfig } from \"../utils/app-config\";\r\n\r\n@Injectable({\r\n    providedIn: \"root\"\r\n})\r\nexport class ProductsService {\r\n\r\n    // DI \r\n    public constructor(private http: HttpClient) { }\r\n\r\n    public async getAllProducts(): Promise<ProductModel[]> {\r\n\r\n        // Observable - משהו ממש מגניב\r\n        const observable = this.http.get<ProductModel[]>(appConfig.productsUrl);\r\n\r\n        // Convert observable to promise:\r\n        const products = await firstValueFrom(observable);\r\n        console.log(products);\r\n\r\n        return products;\r\n    }\r\n\r\n    public async addProduct(product: ProductModel): Promise<void> {\r\n        const formData = new FormData();\r\n        formData.append(\"name\", product.name);\r\n        formData.append(\"price\", product.price.toString());\r\n        // formData.append(\"stock\", product.stock.toString());\r\n        formData.append(\"image\", product.image);\r\n        const observable = this.http.post<ProductModel>(appConfig.productsUrl, formData);\r\n        const addedProduct = await firstValueFrom(observable);\r\n    }\r\n\r\n    public async deleteProduct(id: number): Promise<void> {\r\n        const observable = this.http.delete(appConfig.productsUrl + id);\r\n        await firstValueFrom(observable);\r\n    }\r\n\r\n}\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}